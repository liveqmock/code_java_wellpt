<%@ page language="java" contentType="text/html; charset=UTF-8"	pageEncoding="UTF-8"%><%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%><%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%><%@ include file="/pt/common/taglibs.jsp"%><!DOCTYPE html><html lang="en"><head><title><spring:message code="fileManager.label.fileManager" /></title><style type="text/css"></style><%@ include file="/pt/common/meta.jsp"%></head><body>	<input type="hidden" id="openBy" value="${openBy}"/>	<c:if test="${openBy == 'viewModle'}">		<link rel="stylesheet" type="text/css"			href="${ctx}/resources/ztree/css/zTreeStyle/zTreeStyle.css" />		<link rel="stylesheet" href="${ctx}/resources/pt/css/fileManager.css" />		<link rel="stylesheet" type="text/css" media="screen"			href="${ctx}/resources/pt/css/form.css" />	<!-- 			<div> --><!-- 				<div id="treeDialog"> --><!-- 					<ul id="folder_tree" class="ztree"></ul> --><!-- 				</div> --><!-- 			</div> -->			<!-- 			<div id="showTemplateDialog" style="display: none"> --><!-- 				<table> --><!-- 					<tr> --><%-- 						<td><spring:message code="fileManager.label.selectTemplate" />：</td> --%><!-- 						<td><select id="templateList"> --><%-- 							<option value="">--<spring:message code="fileManager.label.defaultSelect" />--</option> --%><!-- 							</select> --><!-- 						</td> --><!-- 					</tr> --><!-- 				</table> -->				<!-- 			</div> --><!-- 			<div id="importDialog" style="display: none"> --><!-- 				<table> --><!-- 					<tr> --><%-- 						<td><spring:message code="fileManager.label.selectTemplate" />：</td> --%><!-- 						<td><select class="excelSelect" id="excelSelect"></select></td> --><!-- 					</tr> --><!-- 					<tr> --><%-- 						<td><spring:message code="fileManager.label.selectFile" />：</td> --%><!-- 						<td><input type="file" id="upload" name="upload" /> --><!-- 						 <input type="button" id="uploadBtn" value="上传"/></td> --><!-- 					</tr> --><!-- 				</table> --><!-- 				<input type="hidden" name="currentTemplateId" id="currentTemplateId" /> --><!-- 			</div> --><%-- 		<script src="${ctx}/resources/jquery/jquery.js"></script> --%><!-- 	<script type="text/javascript" --><%-- 		src="${ctx}/resources/jqueryui/js/jquery-ui.js"></script> --%><%-- 	<script src="${ctx}/resources/bootstrap/js/bootstrap.js"></script> --%>	<script type="text/javascript" src="${ctx}/resources/utils/json2.js"></script>	<script type="text/javascript"		src="${ctx}/resources/ztree/js/jquery.ztree.js"></script><%-- 	<script type="text/javascript" src="${ctx}/resources/pt/js/global.js"></script> --%><!-- 	<script type="text/javascript" --><%-- 		src="${ctx}/resources/pt/js/common/jquery.alerts.js"></script> --%>	<script type="text/javascript"		src="${ctx}/resources/pt/js/file/list.js"></script>	<script type="text/javascript">		var refleshFlag = "0";		$(function(){			$(".file-nav li").each(function(){				var url = "/cms/cmspage/readPage?uuid=0d02d22a-f08c-4dd5-9f24-1101a7d2b588&treeName=DOCUMENT_MANAGEMENT";				$(this).attr("moreurl", url);			});			$.ajax({				type : "POST",				url : contextPath+"/fileManager/folder/indexList",				data : "id="+"",				dataType : "text",				success : function callback(result) {					$("#fileListIframe").html(result);				}			});			loadLeftFolderTree1();		});	</script>	</c:if>	<input type="hidden" id="currentId" value="">	<input type="hidden" id="objType" value="">	<input type="hidden" id="currentOperate" value="">	<input type="hidden" id="moveToFolderId" value="">	<input type="hidden" id="parentUuid" value="${uuid}">	<div class="file_list">		<div class="file_list_h1 form_operate">			<c:if test="${isAdmin eq 'true' && uuid eq ''}">				<a 					onclick="fileManagerAddFunc('','${ctx}/fileManager/folder/add?parentUuid=')"					href="#"><spring:message code="fileManager.btn.newLib" /></a>			</c:if>			<c:if test="${ uuid ne ''}">				<input id="folderUuid" name="folderUuid" type="hidden" value="${uuid}" />				<input id="viewUuid" name="viewUuid" type="hidden" value="${viewId}" />				<c:choose>					<c:when test="${!empty viewId &&  uuid ne ''}">					<a id="show_view"					href="#"><spring:message code="fileManager.btn.showAllFile" /></a>					</c:when>					<c:otherwise>					<a id="show_view"					href="#"><spring:message code="fileManager.btn.showAllFile" /></a>					</c:otherwise>				</c:choose>			 				 				<c:choose>					<c:when test="${(folderAdmin eq '1') || (libAdmin eq '1')}">						<a href="#" onclick="fileManagerAddFunc('','${ctx}/fileManager/folder/add?parentUuid=${uuid}')"><spring:message code="fileManager.btn.newFolder" /></a>						<a  id="addFile" href="#"><spring:message code="fileManager.btn.newFile" /></a>						<a  href="#" id="delete"><spring:message code="fileManager.btn.del" /></a>						<a  href="#" id="move"><spring:message code="fileManager.btn.move" /></a>						<a  href="#" id="copy"><spring:message code="fileManager.btn.copy" /></a>						<a  href="#" id="import"><spring:message code="fileManager.btn.import" /></a>					</c:when>					<c:when test="${ createFile eq '1'}">						<a id="addFile" href="#"><spring:message code="fileManager.btn.newFile" /></a>					</c:when>				</c:choose>			</c:if>		</div>		<div class="file_list_h2">			<div class="file_list_h2_h1">				<c:if test="${ uuid eq ''}">					<div class="file_list_h2_h1_l1 file_list_h2_h1_l"><spring:message code="fileManager.label.allLib" /></div>				</c:if>				<c:if test="${ uuid ne ''}">					<div class="file_list_h2_h1_l1 file_list_h2_h1_l">					<input id="folder_list_parentUuid" type="hidden" value="${parentUuid}" />						<span class="folder_list_head_first"><a href="#"><spring:message code="fileManager.label.backToUp" /></a></span>|<span class="folder_list_head_second"><a							href="#"><spring:message code="fileManager.label.allLib" /></a></span><%-- 						<a href="${ctx}/fileManager/folder/indexList?id=${parentUuid}"><spring:message code="fileManager.label.backToUp" /></a>|<a --%><%-- 							href="${ctx}/fileManager/folder/indexList?id="><spring:message code="fileManager.label.allLib" /></a> --%>						<c:if							test="${(!empty parentFolders) && fn:length(parentFolders) > 0}">							<c:forEach items="${parentFolders}" var="tempFolder"><!-- 			 						><a --><%-- 									href="${ctx}/fileManager/folder/indexList?id=${tempFolder.uuid}">${tempFolder.title}</a> --%>								><span class="folder_list_head_third"><a									href="#">${tempFolder.title}</a></span>									<input id="folder_list_tempUuid" type="hidden" value="${tempFolder.uuid}" />							</c:forEach>						</c:if>						><span class="file_map">${parentTitle}</span>					</div>				</c:if>			</div>			<div class="file_list_h2_h2">				<table class="file-list-table">					<thead>						<tr>							<th class="th1"><input id="checkAll" type="checkbox"								class="checkAll" /></th><%-- 							<th class="th2"><spring:message code="fileManager.label.fileName" /></th> --%><%-- 							<th class="th3"><spring:message code="fileManager.label.createTime" /></th> --%>								<c:choose>									<c:when test="${(!empty columnDefinitionOtherNameList) && fn:length(columnDefinitionOtherNameList) > 0}">										<c:forEach items="${columnDefinitionOtherNameList}" var="othername"  varStatus="status">											<c:choose>												<c:when test="${status.index == 0}" >													<th class="th2" style="width:35%;">${othername}</th>												</c:when>												<c:otherwise>													<th class="th2">${othername}</th>												</c:otherwise>											</c:choose>																					</c:forEach>									</c:when>									<c:otherwise>										<th class="th2"><spring:message code="fileManager.label.fileName" /></th> 										<th class="th3"><spring:message code="fileManager.label.createTime" /></th>									</c:otherwise>								</c:choose>														</tr>					</thead>					<tbody>						<c:choose>							<c:when								test="${(!empty childfolders.result) && fn:length(childfolders.result) > 0}">								<c:forEach items="${childfolders.result}" var="folder">									<tr class="folderList" objType="folder" objId="${folder.uuid}">										<td><input name="objId" type="checkbox"											value="${folder.uuid}" objType="folder" /></td>										<td>											<div style="position: relative;">												<div													class="file_icon folder-item													<c:choose>														<c:when test="${uuid eq ''}">															lib_img														</c:when>														<c:otherwise>															folder_img														</c:otherwise>													</c:choose>													" id="${folder.uuid}">													</div>												<div class="file_name">													<A href="#" class="folder-item"														id="${folder.uuid}"														rel=view_folder>${folder.title}</A>												</div>												<div class="file_operate" folderId="${folder.uuid}">													<c:if test="${(folderAdmin eq '1') || (libAdmin eq '1') || (folder.manager eq true)}">														<button type="button" class="button"														onclick="fileManagerEditFunc('','','${ctx}/fileManager/folder/edit?uuid=${folder.uuid}');"><spring:message code="fileManager.btn.setup" /></button>																										<button type="button" class="button"															onclick="fileManagerDel('folder','${folder.uuid}');"><spring:message code="fileManager.btn.del" /></button>														<c:if test="${folder.uuid != folder.topUuid}">														<button type="button" class="button"															onclick="fileManagerCopy('folder','${folder.uuid}');"><spring:message code="fileManager.btn.copy" /></button>														<button type="button" class="button"															onclick="fileManagerMove('folder','${folder.uuid}');"><spring:message code="fileManager.btn.move" /></button>														</c:if>													</c:if>												</div>												 											</div>										</td>										<td><fmt:formatDate value="${folder.createTime}"												type="both" /></td>									</tr>								</c:forEach>								<c:forEach items="${childFiles.result}" var="file">									<tr class="folderList" objType="file" objId="${file.uuid}">										<td><input name="objId" type="checkbox"											value="${file.uuid}" objType="file" /></td>										<td>											<div style="position: relative;">												<div class="file_icon file_${file.fileType}_img"></div>												<div class="file_name">													<A														onclick="fileManagerEditFunc('','${file.uuid}','${ctx}/fileManager/file/edit?uuid=${file.uuid}');"														href="#" rel=view_folder> 														<c:choose>															<c:when																test="${file.status eq '2'}">${file.title}				                			 									                			<c:if test="${(!empty file.currentVersion) && (versionManager eq '1')}">(${file.currentVersion})</c:if>																				<c:if test="${('1'  eq file.isLock)}">									                				<spring:message code="fileManager.label.haveCheckOut" />									                			</c:if>															</c:when>															<c:when																test="${file.status eq '1' ||  file.status eq '3' || file.status eq '4'}">${file.title}				                								<c:choose>																	<c:when																		test="${!empty file.currentVersion && (file.currentVersion > '0.9')}"><spring:message code="fileManager.label.workCopy" /></c:when>																	<c:otherwise><spring:message code="fileManager.label.workDraft" /></c:otherwise>																</c:choose>															</c:when>															<c:otherwise>								                				${file.title}								                			</c:otherwise>														</c:choose>													</A>												</div>												<c:if test="${(folderAdmin eq '1') || (libAdmin eq '1')}">													<div class="file_operate">														<button type="button" class="button"															onclick="fileManagerDel('file','${file.uuid}');"><spring:message code="fileManager.btn.del" /></button>														<button type="button" class="button"															onclick="fileManagerCopy('file','${file.uuid}');"><spring:message code="fileManager.btn.copy" /></button>														<button type="button" class="button"															onclick="fileManagerMove('file','${file.uuid}');"><spring:message code="fileManager.btn.move" /></button>													</div>												</c:if>											</div>										</td>										<td><fmt:formatDate value="${file.createTime}"												type="both" /></td>									</tr>								</c:forEach>							</c:when>							<c:when								test="${(!empty childFiles.result) && fn:length(childFiles.result) > 0}">								<c:forEach items="${childFiles.result}" var="file">									<tr class="folderList" objType="file" objId="${file.uuid}">										<td width="5%"><input name="objId" type="checkbox"											value="${file.uuid}" objType="file" /></td>										<td>											<div style="position: relative;">												<div class="file_icon file_${file.fileType}_img"></div>												<div class="file_name">													<A														onclick="fileManagerEditFunc('','${file.uuid}','${ctx}/fileManager/file/edit?uuid=${file.uuid}');"														href="#" rel=view_folder> <c:choose>															<c:when																test="${file.status eq '2'}">${file.title}				                			<c:if test="${(!empty file.currentVersion) && (versionManager eq '1')}">(${file.currentVersion})</c:if>																<c:if test="${('1'  eq file.isLock)}">				                				<spring:message code="fileManager.label.haveCheckOut" />				                			</c:if>															</c:when>															<c:when																test="${file.status eq '1' ||  file.status eq '3' || file.status eq '4'}">${file.title}				                			<c:choose>																	<c:when																		test="${!empty file.currentVersion && (file.currentVersion > '0.9')}"><spring:message code="fileManager.label.workCopy" /></c:when>																	<c:otherwise><spring:message code="fileManager.label.workDraft" /></c:otherwise>																</c:choose>															</c:when>															<c:otherwise>				                			${file.title}				                			</c:otherwise>														</c:choose>													</A>												</div>												<c:if test="${(folderAdmin eq '1') || (libAdmin eq '1')}">													<div class="file_operate">														<button type="button" class="button"															onclick="fileManagerDel('file','${file.uuid}');"><spring:message code="fileManager.btn.del" /></button>														<button type="button" class="button"															onclick="fileManagerCopy('file','${file.uuid}');"><spring:message code="fileManager.btn.copy" /></button>														<button type="button" class="button"															onclick="fileManagerMove('file','${file.uuid}');"><spring:message code="fileManager.btn.move" /></button>													</div>												</c:if>											</div>										</td>										<td align="left"><fmt:formatDate												value="${file.createTime}" type="both" /></td>									</tr>								</c:forEach>							</c:when>							<c:when								test="${(!empty pageFile.result) && fn:length(pageFile.result) > 0}">								<c:forEach items="${pageFile.result}" var="file">									<tr class="folderList" objType="file" objId="${file.uuid}">										<td><input name="objId" type="checkbox"											value="${file.uuid}" objType="file" /></td><!-- 										<td> --><!-- 											<div style="position: relative;"> --><%-- 												<div class="file_icon file_${file.fileType}_img"></div> --%><!-- 												<div class="file_name"> --><!-- 													<A --><%-- 														onclick="fileManagerEditFunc('编辑文件','${file.uuid}','${ctx}/fileManager/file/edit?uuid=${file.uuid}');" --%><!-- 														href="#" rel=view_folder>  --><%-- 														<c:choose> --%><%-- 															<c:when --%><%-- 																test="${file.status eq '2'}">${file.title} --%><%-- 									                			<c:if test="${(!empty file.currentVersion) && (versionManager eq '1')}">(${file.currentVersion})</c:if> --%><%-- 																<c:if test="${('1'  eq file.isLock)}"> --%><%-- 									                				<spring:message code="fileManager.label.haveCheckOut" /> --%><%-- 									                			</c:if> --%><%-- 															</c:when> --%><%-- 															<c:when --%><%-- 																test="${file.status eq '1' ||  file.status eq '3' || file.status eq '4'}">${file.title} --%><%-- 				                								<c:choose> --%><%-- 																	<c:when --%><%-- 																		test="${!empty file.currentVersion && (file.currentVersion > '0.9')}"><spring:message code="fileManager.label.workCopy" /></c:when> --%><%-- 																	<c:otherwise><spring:message code="fileManager.label.workDraft" /></c:otherwise> --%><%-- 																</c:choose> --%><%-- 															</c:when> --%><%-- 															<c:otherwise> --%><%-- 								                				${file.title} --%><%-- 								                			</c:otherwise> --%><%-- 														</c:choose> --%><!-- 													</A> --><!-- 												</div> --><%-- 												<c:if test="${(folderAdmin eq '1') || (libAdmin eq '1')}"> --%><!-- 													<div class="file_operate"> --><!-- 														<button type="button" class="button" --><%-- 															onclick="fileManagerDel('file','${file.uuid}');"><spring:message code="fileManager.btn.del" /></button> --%><!-- 														<button type="button" class="button" --><%-- 															onclick="fileManagerCopy('file','${file.uuid}');"><spring:message code="fileManager.btn.copy" /></button> --%><!-- 														<button type="button" class="button" --><%-- 															onclick="fileManagerMove('file','${file.uuid}');"><spring:message code="fileManager.btn.move" /></button> --%><!-- 													</div> --><%-- 												</c:if> --%><!-- 											</div> --><!-- 										</td> --><%-- 										<td align="left"><fmt:formatDate --%><%-- 												value="${file.createTime}" type="both" /></td> --%>									<c:choose>										<c:when test="${(!empty columnDefinitionFieldNameList) && fn:length(columnDefinitionFieldNameList) > 0}">											<c:forEach items="${columnDefinitionFieldNameList}" var="fieldname">												<c:choose>													<c:when test="${fieldname eq 'title'}">														<td>															<div style="position: relative;">																<div class="file_icon file_${file.fileType}_img"></div>																<div class="file_name">																	<A																		onclick="fileManagerEditFunc('编辑文件','${file.uuid}','${ctx}/fileManager/file/edit?uuid=${file.uuid}');"																		href="#" rel=view_folder> 																		<c:choose>																			<c:when																				test="${file.status eq '2'}">${file.title}													                			<c:if test="${(!empty file.currentVersion) && (versionManager eq '1')}">(${file.currentVersion})</c:if>																				<c:if test="${('1'  eq file.isLock)}">													                				<spring:message code="fileManager.label.haveCheckOut" />													                			</c:if>																			</c:when>																			<c:when																				test="${file.status eq '1' ||  file.status eq '3' || file.status eq '4'}">${file.title}								                								<c:choose>																					<c:when																						test="${!empty file.currentVersion && (file.currentVersion > '0.9')}"><spring:message code="fileManager.label.workCopy" /></c:when>																					<c:otherwise><spring:message code="fileManager.label.workDraft" /></c:otherwise>																				</c:choose>																			</c:when>																			<c:otherwise>												                				${file.title}												                			</c:otherwise>																		</c:choose>																	</A>																</div>																<c:if test="${(folderAdmin eq '1') || (libAdmin eq '1')}">																	<div class="file_operate">																		<button type="button" class="button"																			onclick="fileManagerDel('file','${file.uuid}');"><spring:message code="fileManager.btn.del" /></button>																		<button type="button" class="button"																			onclick="fileManagerCopy('file','${file.uuid}');"><spring:message code="fileManager.btn.copy" /></button>																		<button type="button" class="button"																			onclick="fileManagerMove('file','${file.uuid}');"><spring:message code="fileManager.btn.move" /></button>																	</div>																</c:if>															</div>														</td>													</c:when>													<c:when test="${fieldname eq 'createTime'}">														<td class="th2"><fmt:formatDate value="${file.createTime}" type="both" /></td>													</c:when>													<c:otherwise>														<td class="th2">${file[fieldname]}</td>													</c:otherwise>												</c:choose>																							</c:forEach>										</c:when>										<c:otherwise>											<td>											<div style="position: relative;">												<div class="file_icon file_${file.fileType}_img"></div>												<div class="file_name">													<A														onclick="fileManagerEditFunc('编辑文件','${file.uuid}','${ctx}/fileManager/file/edit?uuid=${file.uuid}');"														href="#" rel=view_folder> 														<c:choose>															<c:when																test="${file.status eq '2'}">${file.title}									                			<c:if test="${(!empty file.currentVersion) && (versionManager eq '1')}">(${file.currentVersion})</c:if>																<c:if test="${('1'  eq file.isLock)}">									                				<spring:message code="fileManager.label.haveCheckOut" />									                			</c:if>															</c:when>															<c:when																test="${file.status eq '1' ||  file.status eq '3' || file.status eq '4'}">${file.title}				                								<c:choose>																	<c:when																		test="${!empty file.currentVersion && (file.currentVersion > '0.9')}"><spring:message code="fileManager.label.workCopy" /></c:when>																	<c:otherwise><spring:message code="fileManager.label.workDraft" /></c:otherwise>																</c:choose>															</c:when>															<c:otherwise>								                				${file.title}								                			</c:otherwise>														</c:choose>													</A>												</div>												<c:if test="${(folderAdmin eq '1') || (libAdmin eq '1')}">													<div class="file_operate">														<button type="button" class="button"															onclick="fileManagerDel('file','${file.uuid}');"><spring:message code="fileManager.btn.del" /></button>														<button type="button" class="button"															onclick="fileManagerCopy('file','${file.uuid}');"><spring:message code="fileManager.btn.copy" /></button>														<button type="button" class="button"															onclick="fileManagerMove('file','${file.uuid}');"><spring:message code="fileManager.btn.move" /></button>													</div>												</c:if>											</div>										</td>										<td></td>										<td></td>										<td align="left"><fmt:formatDate												value="${file.createTime}" type="both" /></td>										</c:otherwise>									</c:choose>																			</tr>								</c:forEach>							</c:when>						</c:choose>					</tbody>				</table>				<c:if test="${!empty pageFile}">					<div class="table-footer" id="footBar">						<div id="finder-footer-333c3e" class="finder-footer">							<div style="float: left; padding-top: 2px;"><spring:message code="fileManager.label.pagePerShow" />${pageFile.pageSize}<spring:message code="fileManager.label.pageCount" />								<spring:message code="fileManager.label.pageAll" />${pageFile.totalCount}<spring:message code="fileManager.label.pageCount" /> |</div>							<a class="firstpage"								href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=1&openBy=${openBy}"><img								src="${ctx}/resources/pt/images/v1_first.png" /></a>							<c:if test="${pageFile.totalPages<=7}">								<a									<c:if test="${pageFile.pageNo !=1 }">class="txt_page" href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${pageFile.pageNo-1}"  onmousemove="page_move(this)" onmouseout="page_out(this)"</c:if>									<c:if test="${pageFile.pageNo ==1 }">class="txt_page_no"</c:if>>									<img src="${ctx}/resources/pt/images/v1_prev.png" width="11"									height="11" />								</a>								<c:forEach begin="1" end="${pageFile.totalPages}" var="p_nub"									step="1">									<a										href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${p_nub}"										<c:if test="${p_nub != pageFile.pageNo }">class="nub_page"</c:if>										<c:if test="${p_nub == pageFile.pageNo}">class="nub_page_"</c:if>>										${p_nub} </a>								</c:forEach>								<a									<c:if test="${pageFile.pageNo != pageFile.totalPages}">class="txt_page" href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${pageFile.pageNo+1}" onmousemove="page_move(this)" onmouseout="page_out(this)"</c:if>									<c:if test="${pageFile.pageNo == pageFile.totalPages}">class="txt_page_no"</c:if>>									<img src="${ctx}/resources/pt/images/v1_next.png" />								</a>							</c:if>							<c:if test="${pageFile.totalPages>7 && pageFile.pageNo<4}">								<a									<c:if test="${pageFile.pageNo !=1 }">class="txt_page" href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${pageFile.pageNo-1}" onmousemove="page_move(this)" onmouseout="page_out(this)"</c:if>									<c:if test="${pageFile.pageNo ==1 }">class="txt_page_no"</c:if>>									<img src="${ctx}/resources/pt/images/v1_prev.png" width="11"									height="11" />								</a>								<c:forEach begin="1" end="4" var="p_nub">									<a										href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${p_nub}"										<c:if test="${p_nub != pageFile.pageNo }">class="nub_page"</c:if>										<c:if test="${p_nub == pageFile.pageNo }">class="nub_page_"</c:if>>										${p_nub} </a>								</c:forEach>								<div class="page_">…</div>								<div class="page_">…</div>								<a									href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${pageFile.totalPages}"									class="nub_page"> ${pageFile.totalPages} </a>								<div									<c:if test="${pageFile.pageNo != pageFile.totalPages}">class="txt_page"  href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${pageFile.pageNo+1}" onmousemove="page_move(this)" onmouseout="page_out(this)"</c:if>									<c:if test="${pageFile.pageNo == pageFile.totalPages}">class="txt_page_no"</c:if>>									<img src="${ctx}/resources/pt/images/v1_next.png" />								</div>							</c:if>							<c:if		test="${pageFile.totalPages>7 && pageFile.currentPage>=4 && pageFile.pageNo<=(page.totalPages-2)}">								<a									<c:if test="${pageFile.pageNo !=1 }">class="txt_page" href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${pageFile.pageNo}"  onmousemove="page_move(this)" onmouseout="page_out(this)"</c:if>									<c:if test="${pageFile.pageNo ==1 }">class="txt_page_no"</c:if>>									<img src="${ctx}/resources/pt/images/v1_prev.png" width="11"									height="11" />								</a>								<a href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=1"									class="nub_page"> 1 </a>								<div class="page_">…</div>								<c:forEach begin="${pageFile.pageNo -1 }"									end="${pageFile.pageNo + 1 }" var="p_nub">									<a										href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${p_nub}"										<c:if test="${p_nub != pageFile.pageNo }">class="nub_page"</c:if>										<c:if test="${p_nub == pageFile.pageNo}">class="nub_page_"</c:if>>										${p_nub} </a>								</c:forEach>								<div class="page_">…</div>								<a									href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${pageFile.totalPages}"									class="nub_page"> ${pageFile.totalPages} </a>								<a									<c:if test="${pageFile.pageNo != pageFile.totalPages}">class="txt_page" href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${pageFile.pageNo+1}" onmousemove="page_move(this)" onmouseout="page_out(this)"</c:if>									<c:if test="${pageFile.pageNo == pageFile.totalPages}">class="txt_page_no"</c:if>>									<img src="${ctx}/resources/pt/images/v1_next.png" />								</a>							</c:if>							<c:if								test="${pageFile.totalPages>7 && pageFile.pageNo>6 && pageFile.pageNo>(pageFile.totalPages-2)}">								<a									<c:if test="${pageFile.pageNo !=1 }">class="txt_page" href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${pageFile.pageNo}"  onmousemove="page_move(this)" onmouseout="page_out(this)"</c:if>									<c:if test="${pageFile.pageNo ==1 }">class="txt_page_no"</c:if>>									<img src="${ctx}/resources/pt/images/v1_prev.png" width="11"									height="11" />								</a>								<a href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=1"									class="nub_page"> 1 </a>								<div class="page_">…</div>								<div class="page_">…</div>								<c:forEach begin="${pageFile.totalPages-3}"									end="${pageFile.totalPages}" var="p_nub">									<a										href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${p_nub}"										<c:if test="${p_nub != pageFile.pageNo }">class="nub_page"</c:if>										<c:if test="${p_nub == pageFile.pageNo}">class="nub_page_"</c:if>>										${p_nub} </a>								</c:forEach>								<a									<c:if test="${pageFile.pageNo != pageFile.totalPages}">class="txt_page" href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${pageFile.pageNo+1}" onmousemove="page_move(this)" onmouseout="page_out(this)"</c:if>									<c:if test="${pageFile.pageNo == pageFile.totalPages}">class="txt_page_no"</c:if>>									<img src="${ctx}/resources/pt/images/v1_next.png" />								</a>							</c:if>							<div class="jumpmodule" style="width: 120px;">								<a class="lastpage"									href="${ctx}/fileManager/folder/indexList?id=${uuid}&page=${pageFile.totalPages}"><img									src="${ctx}/resources/pt/images/v1_last.png" /></a> | <spring:message code="fileManager.label.pageNow" /><input									type="text" id="jumppage"									onkeyup="entyKeyBoard(event,this,${pageFile.pageNo});"									value="${pageFile.pageNo  }" /> <spring:message code="fileManager.label.pageInfo" />/<spring:message code="fileManager.label.pageAll" />${pageFile.totalPages}<spring:message code="fileManager.label.pageInfo" />							</div>						</div>					</div>				</c:if>			</div>		</div>	</div>	<script type="text/javascript">			var refleshFlag = "0";	</script>	<!-- /container -->	<c:if test="${refleshLeft eq '1'}">		<script type="text/javascript">			 refleshFlag = "1";	</script>	</c:if><!-- 	<script type="text/javascript" --><%-- 		src="${ctx}/resources/utils/ajaxfileupload.src.js"></script> --%><!-- 	<script type="text/javascript" --><%-- 		src="${ctx}/resources/utils/ajaxfileupload.js"></script> --%><!-- 	<script type="text/javascript" --><%-- 		src="${ctx}/resources/pt/js/common/jquery.excelimportrule.js"></script> --%>	<script>	$(function(){		//点击库、夹的标题或图标的页面跳转		$(".folder-item").each(function(){			var $this = $(this);			$(this).click(function(){				var folderUuid = $(this).attr("id");				pageLock("show");				$.ajax({					type : "POST",					async:false,					url : contextPath+"/fileManager/folder/indexList?openBy="+$("#openBy").val(),					data : "id="+folderUuid,					dataType : "text",					success : function callback(result) {						if($("#openBy").val() == 'viewModle') {							$this.parents(".active").html(result);						}else {							$("#fileListIframe").html(result);						}						pageLock("hide");					}				});			});		});				$(".file_list tbody tr").mouseover(function(){			$(this).find(".file_operate").show();						<c:if test="${uuid eq ''}">				//setFunctionShow(this);			</c:if>		});		$(".file_list tbody tr").mouseout(function(){			$(this).find(".file_operate").hide();		});	}); 	function page_move(obj){		$(obj).attr("class","txt_page_");	}	function page_out(obj){		$(obj).attr("class","txt_page");	}	function entyKeyBoard(event,obj,currentPage){		var code = event.keyCode;		var gotopage = obj.value;		var totalPages = 0;		<c:if test="${!empty pageFile.totalPages}">			totalPages =  ${pageFile.totalPages};		</c:if>				if(gotopage==""){			alert(fileManager.pleaseInputPageNum);			return false;		}		if(gotopage.match(/^\+?[1-9][0-9]*$/)){			if(gotopage>totalPages){				alert(fileManager.WarnOutOfAllPage);				return false;			}		}else{			alert(fileManager.pleaseInputLegalPag);			return false;		}			    if (code == 13) {	    	window.location.href=ctx+'/fileManager/folder/indexList?id=${uuid}&page='+gotopage;	    }	}	</script><script type="text/javascript" src="${ctx}/resources/timers/jquery.timers.min.js"></script></body></html>